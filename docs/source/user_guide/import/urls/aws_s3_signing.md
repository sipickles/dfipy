(generating-presigned-urls)=

# Generating Presigned S3 URLs

For smaller batches of data stored in AWS S3, it can be simpler to generate presigned URLs instead of setting up AWS access for the GS Platform. A presigned URL grants time-limited permission to download the object. The user credentials used to generate the URL are the same credentials used by the presigned URL.

:::{note}
For more fine-grained control over generating presigned URLs for S3 objects, refer to [Sharing objects with presigned URLs](https://docs.aws.amazon.com/AmazonS3/latest/userguide/ShareObjectPreSignedURL.html)
:::

## Example I: For all objects in a bucket

In this example, we generate presigned URLs for every CSV file in `s3://datasets/1B_with_filter_fields` valid for 5 minutes. CSV files are denoted with the `.csv` suffix.
::::{tab-set}

:::{tab-item} dfipy
:sync: dfipy

```python
from dfi.services.ingest import S3URLPresigner

bucket = "datasets"
prefix = "1B_with_filter_fields"
region = "eu-west-2"
profile= "default"

s3_presigner = S3URLPresigner(bucket, region, profile)
s3_presigner.generate_presigned_urls(prefix, ".csv", expiration=5)
```

```python
[
    "https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-000.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=33b864dd188122d3221b947c487c1f0ff01752baba06f0ec31878d10e90f67d7",
    "https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-001.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=e8d50aed3e24399a02983a8eaefe6fc427c78343611a41c72e8195025bad90c5",
    "https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-002.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=bb785c303576608345de5594652b225f649bd52337c6c4346b0a0001b4fe342b",
    "https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-003.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=75c8812462019c7ca00f7a793b8e64a8d476c8fcd8483616e4e40bbce1eac7a4",
    "https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-004.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=5db35c3d582d48c95aa448478a9b411cbc5adb92ca0abf223ea8b45febb5af5e",
    "https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-005.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=c7d078c302a9d7865deac4fd3dcd5c7d5eeb78037981261c78b1ecd6d140ed75",
    "https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-006.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=04a78cd041d6b892c4cee01519553add77c2ba6940830673a22ed07f6d093373",
    "https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-007.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=565b1acb5e496329660f88121c5fadfa7bf80f45baa1d180244fe60f4ba17276",
    "https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-008.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=393a5f6975a499d3236fbfbd91877b4b814a87292eeb133b3b5c39b9e352d9ec",
]
```

:::
::::

## Example II: For an object

A presigned URL can also be generated for specific objects.

::::{tab-set}

:::{tab-item} dfipy
:sync: dfipy

```python
from dfi.services.ingest import S3URLPresigner

bucket = "datasets"
key = "1B_with_filter_fields/file-000.csv"
region = "eu-west-2"
profile= "default"

s3_presigner = S3URLPresigner(bucket, region, profile)
s3_presigner.generate_presigned_url(key, ".csv", expiration=5)
```

```python
"https://datasets.s3.amazonaws.com/1B_with_filter_fields/file-000.csv?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=ASIAZXWHO2DFPQSWB5VI%2F20240117%2Feu-west-2%2Fs3%2Faws4_request&X-Amz-Date=20240117T122741Z&X-Amz-Expires=5&X-Amz-SignedHeaders=host&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBUaCWV1LXdlc3QtMiJHMEUCIQDw9cD8%2FYuzdi0jI7UvkA1g9u%2FuZOwrIEPs8dDP027cfAIgUM3q1R4GGHRiPSmRILrdu261PA4YRklAkp1lMqfbgXYqzwMIvv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FARADGgw2NjkzNTk0NjA1NTQiDJbpnwBx0c%2BMr%2FRAByqjA8eb3nczjAEvZbBuRZd6ezZfeBLbX4JH1lil0XOPH5k9F0CNuSnUUiX9VV2lF3nIMNRpjPgKld8T4ZDzJZ0PsQBCI5JyOwzmurl7xyniRHbro9AKMSdS3ezx1gofGjs0GoDgreKRcE1wqXVW25Ox98IqNZgwDSun4zm4GSCuPfHXXeuU2MaUV3AJnrQ9i9XwkNl4OLI9jQ%2BfpYb1NfxmRAaLVPA6v4nr9LzpoC5czXviFWP3bqG6KuyNMmt6uyUtqmth1hJJbQAfG3RCUGYZxMzKO%2FTweBIOhXmkFtmjb8L%2FJmUu6RxHzSMN6UWh4jXWk6LYuDBzZS3NM7RCLV61hpRhtI16cZQFbm57vzL7G8uWOLn7W8Ga6r1mCLZnbeEC2y%2FiyQB2N6l9EhO6cTcMm8I8CG5KTTBWiyF%2FsVQ3vIJYp8A2fMs3dOW9lpPyz%2Blg1Wn%2F%2BhUkuC3m9OgT%2B2PRvdxd2fMCYp7p4sgypUGjyQwPZMJAAuXPwHgd42yBnEu%2FRYzC5AIKd7dMWwsDPRAQ1M9Fgx4IWeeR9RqDuEt4cAHVAsbqML2Pn60GOqYBdqxxRzMqUofJkC8jPSNHIe61yAGNppJN92ZiMU3xmRn4LiBLnIHXexjWvsgYQZRuVxgDSJ8XEYX3Lm89%2F2e8NG6FMVWzNH%2BEmElVjGcwBXQslMe9JY8OHVC%2FfqozccyVgtH05VnfTMc6V6FKi%2FwL5sCp56G%2FkT24COm9Y492rIQXbhJ5bOQa7G4qUd59WH1cz2AR4EpEDQ8oDG%2BD4QD1H2vGAJu9Eg%3D%3D&X-Amz-Signature=33b864dd188122d3221b947c487c1f0ff01752baba06f0ec31878d10e90f67d7"
```

:::
::::
